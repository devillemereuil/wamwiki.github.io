---
title: "Contribution Guidelines"
linkTitle: "Contribution Guidelines"
weight: 100
description: >
  How to contribute to this website
---

{{% pageinfo %}}

We use **Hugo**, an open-source static site generator.

Hugo takes **Markdown** or **HTML** pages, applies a theme, and wraps everything up into a website.

We prefer to write documentation pages in **R-Markdown** so that we can easily combine text, equations, R-code and R-output.
We then knit the **R-Markdown** pages into **Markdown** so that Hugo can use them.

All submissions, including submissions by project members, require review. We
use **GitHub pull requests** for this purpose. Consult
[GitHub Help](https://help.github.com/articles/about-pull-requests/) for more
information on using pull requests.

**If you are not familiar with Git, Github, R-Markdown you can send your contributions by email to <wambamwiki@gmail.com>.**

{{% /pageinfo %}}

## Quick start

Here's a quick guide to updating the Reference code and tutorial pages. It assumes you're familiar with the
GitHub workflow and you're happy to use the automated preview of your doc
updates:

1. Fork the [wamwiki.github.io  repo](https://github.com/wamwiki/wamwiki.github.io) on GitHub.
1. Create a folder for your tutorial
1. Add `.Rmd` file, `data/` and `images/` folder as needed
1. Knit the  `.Rmd` to get the `.md` and plot files
1. Check that everything looks good on a local website
1. Create a pull request to get your changes merged into the main branch and update the website.Your PR should include at least the `.Rmd`, `.md` files as well as the `data/`, `plots/` and `images/` folders if needed

## Workflow from .Rmd to a working webpage

A brief summary of all the steps needed to get started or refresh your memory.

### Initialise a .Rmd file 

You file frontmatter should include at least the following properties in the YAML

  * title (what appears at the top of the page, within quotation marks)
  * linkTitle (what url to the page look like, within quotation marks)
  * author: your name
  * weight (the higher the weight the lower the page link in side menus, just a number)
  * description (what textual links to the page look like, **no** quotation marks but start with ">" then starts a new line, see example below or in the source Markdown files)
  * math: true/false if you have any equations
  * output: should be html and specify the option to keep the md file. You must insure that a Markdown file is kept after kniting as Hugo works on Markdown, not R-Markdown. In RStudio, it can be done if you go to `Edit the R Markdown format options for the current file` (that is the little cogwheel right of the knit button) -> `Output Options...` -> `Advanced` and check `Keep markdown source file`.

Here is what the frontmatter of your `.Rmd` file should look like

```yaml
---
title: "Name of your QG tutorial"
linkTitle: "Heritability of Magical beast"
author: "Wam community extraordinaire"
weight: 4
math: true
description: >
  Fitting a simple animal model of unicorn color preference.
output: 
  html_document: 
    keep_md: yes
---
```

### Write a working `.Rmd` file

  * Reading data. Create a `data/` folder in your working folder (*i.e.* folder where you have your `.Rmd` file). All your call to read data will be of the type `read.csv("data/mydata.csv")` (assuming you are using `.csv`)
  * Including images: Save them in an `images/` folder in your working folder and refer to them using either Markdown notation (`![](images/cute_image.jpg)`) or with a R code chunk as:

````md
```{r}
knitr::include_graphics("images/cute_image.jpg")
```
````

  * Including R plots: You need to save plots generated by R somewhere that is accessible by `hugo`. To do so, include the following R chunk at the beginning of your file just below the frontmatter. It will simply generate the R plots and save them in a `plots/` folder within your working directory.

````md
```{r setup_fig, include=FALSE}
knitr::opts_chunk$set(fig.path = "plots/")
```
````

### Knit your file


### Check the output on local site

You need to have a working installation of `Hugo`. If you don't see [setting-up Hugo](#setup-hugo)

In a terminal, from your fork root directory, run:

```bash
hugo server
```
By default your site will be available at <http://localhost:1313/>. Now that you're serving your site locally, Hugo will watch for changes to the content and automatically refresh your site. Now that you're serving your site locally, Hugo will watch for changes to the content and automatically refresh your site each you save a `.md` file (*i.e.* each time you knit your `.Rmd`).

### Creat a Pull Request to github

1. While editing your tutorial, continue with the usual GitHub workflow to edit files, and commit them. You can also push them regularly to your fork
1. Once you are happy with your tutorial/edits, make sure your knit the latest version of your `.Rmd` file, then include all latest changes in a commit.
1. Make sure you have pushed to your fork through (one or multiple) commit(s) your `.Rmd` and rendered `.md` file as well as `data/`, `images/` and `plots/` folder as needed.
1. Create a pull request to merge the changes in your fork to the branch `master` on wamwiki


## Updating a single page

If you've just spotted something you'd like to change while using the docs, here is a shortcut for you:

* Click **Edit this page** in the top right hand corner of the page.

You can also edit the page on your fork (please make sure that your fork is up-to-date with the latest commit on the master branch) and make a pull request of course

## Creating an issue

If you've found a problem in the Wamwiki docs, but you're not sure how to fix it yourself, please create an issue in the [wamwiki.github.io  repo](https://github.com/wamwiki/wamwiki.github.io/issues). You can also create an issue about a specific page by clicking the **Create documentation issue** button in the top right hand corner of the page.

## Setting-up Hugo {#setup-hugo}

If you want to run your own local Hugo server to preview your changes as you work you need to have the **extended** version of `Hugo` installed on your computer including its dependencies `git`, `Go` and `Dart Sass`. For information on how to install follow the links below:

* [Hugo](https://gohugo.io/installation/). You need the extended version
* [Go](https://go.dev/doc/install)
* [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
* [Dart Sass](https://gohugo.io/hugo-pipes/transpile-sass-to-css/#dart-sass)

## Useful resources about the Docsy theme, Hugo and Github

* [Docsy user guide](https://www.docsy.dev/docs/): All about Docsy, including how it manages navigation, look and feel, and multi-language support.
* [Hugo documentation](https://gohugo.io/documentation/): Comprehensive reference for Hugo.
* [Github Hello World!](https://guides.github.com/activities/hello-world/): A basic introduction to GitHub concepts and workflow.
